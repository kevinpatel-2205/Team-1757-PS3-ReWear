"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/login/route";
exports.ids = ["app/api/auth/login/route"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=D%3A%5CTeam-1757-PS3-ReWear%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CTeam-1757-PS3-ReWear&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=D%3A%5CTeam-1757-PS3-ReWear%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CTeam-1757-PS3-ReWear&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Team_1757_PS3_ReWear_src_app_api_auth_login_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/auth/login/route.ts */ \"(rsc)/./src/app/api/auth/login/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/login/route\",\n        pathname: \"/api/auth/login\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/login/route\"\n    },\n    resolvedPagePath: \"D:\\\\Team-1757-PS3-ReWear\\\\src\\\\app\\\\api\\\\auth\\\\login\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Team_1757_PS3_ReWear_src_app_api_auth_login_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/auth/login/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGbG9naW4lMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkZsb2dpbiUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkZsb2dpbiUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDVGVhbS0xNzU3LVBTMy1SZVdlYXIlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUQlM0ElNUNUZWFtLTE3NTctUFMzLVJlV2VhciZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDYztBQUMzRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3Jld2Vhci1jb21tdW5pdHktZXhjaGFuZ2UvPzk2MTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcVGVhbS0xNzU3LVBTMy1SZVdlYXJcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcYXV0aFxcXFxsb2dpblxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXV0aC9sb2dpbi9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2F1dGgvbG9naW5cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2F1dGgvbG9naW4vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJEOlxcXFxUZWFtLTE3NTctUFMzLVJlV2VhclxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhdXRoXFxcXGxvZ2luXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9hdXRoL2xvZ2luL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=D%3A%5CTeam-1757-PS3-ReWear%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CTeam-1757-PS3-ReWear&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/auth/login/route.ts":
/*!*****************************************!*\
  !*** ./src/app/api/auth/login/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./src/lib/mongodb.ts\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./src/lib/auth.ts\");\n/* harmony import */ var _lib_validations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/validations */ \"(rsc)/./src/lib/validations.ts\");\n\n\n\n\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        // Validate input\n        const validatedData = _lib_validations__WEBPACK_IMPORTED_MODULE_3__.loginSchema.parse(body);\n        const db = await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.getDatabase)();\n        const usersCollection = db.collection(\"users\");\n        // Find user\n        const user = await usersCollection.findOne({\n            email: validatedData.email,\n            isActive: true\n        });\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid email or password\"\n            }, {\n                status: 401\n            });\n        }\n        // Verify password\n        const isValidPassword = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.verifyPassword)(validatedData.password, user.password);\n        if (!isValidPassword) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid email or password\"\n            }, {\n                status: 401\n            });\n        }\n        // Generate token\n        const token = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.generateToken)(user);\n        // Set cookie\n        const response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"Login successful\",\n            user: {\n                id: user._id,\n                email: user.email,\n                name: user.name,\n                role: user.role\n            }\n        }, {\n            status: 200\n        });\n        response.cookies.set(\"token\", token, {\n            httpOnly: true,\n            secure: \"development\" === \"production\",\n            sameSite: \"lax\",\n            maxAge: 60 * 60 * 24 * 7\n        });\n        return response;\n    } catch (error) {\n        console.error(\"Login error:\", error);\n        if (error instanceof Error && error.name === \"ZodError\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid input data\",\n                details: error.message\n            }, {\n                status: 400\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hdXRoL2xvZ2luL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXVEO0FBQ1o7QUFDZTtBQUNYO0FBR3hDLGVBQWVLLEtBQUtDLE9BQW9CO0lBQzdDLElBQUk7UUFDRixNQUFNQyxPQUFPLE1BQU1ELFFBQVFFLElBQUk7UUFFL0IsaUJBQWlCO1FBQ2pCLE1BQU1DLGdCQUFnQkwseURBQVdBLENBQUNNLEtBQUssQ0FBQ0g7UUFFeEMsTUFBTUksS0FBSyxNQUFNVix5REFBV0E7UUFDNUIsTUFBTVcsa0JBQWtCRCxHQUFHRSxVQUFVLENBQU87UUFFNUMsWUFBWTtRQUNaLE1BQU1DLE9BQU8sTUFBTUYsZ0JBQWdCRyxPQUFPLENBQUM7WUFDekNDLE9BQU9QLGNBQWNPLEtBQUs7WUFDMUJDLFVBQVU7UUFDWjtRQUVBLElBQUksQ0FBQ0gsTUFBTTtZQUNULE9BQU9kLHFEQUFZQSxDQUFDUSxJQUFJLENBQ3RCO2dCQUFFVSxPQUFPO1lBQTRCLEdBQ3JDO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxrQkFBa0I7UUFDbEIsTUFBTUMsa0JBQWtCLE1BQU1sQix5REFBY0EsQ0FBQ08sY0FBY1ksUUFBUSxFQUFFUCxLQUFLTyxRQUFRO1FBRWxGLElBQUksQ0FBQ0QsaUJBQWlCO1lBQ3BCLE9BQU9wQixxREFBWUEsQ0FBQ1EsSUFBSSxDQUN0QjtnQkFBRVUsT0FBTztZQUE0QixHQUNyQztnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsaUJBQWlCO1FBQ2pCLE1BQU1HLFFBQVFuQix3REFBYUEsQ0FBQ1c7UUFFNUIsYUFBYTtRQUNiLE1BQU1TLFdBQVd2QixxREFBWUEsQ0FBQ1EsSUFBSSxDQUNoQztZQUNFZ0IsU0FBUztZQUNUVixNQUFNO2dCQUNKVyxJQUFJWCxLQUFLWSxHQUFHO2dCQUNaVixPQUFPRixLQUFLRSxLQUFLO2dCQUNqQlcsTUFBTWIsS0FBS2EsSUFBSTtnQkFDZkMsTUFBTWQsS0FBS2MsSUFBSTtZQUNqQjtRQUNGLEdBQ0E7WUFBRVQsUUFBUTtRQUFJO1FBR2hCSSxTQUFTTSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxTQUFTUixPQUFPO1lBQ25DUyxVQUFVO1lBQ1ZDLFFBQVFDLGtCQUF5QjtZQUNqQ0MsVUFBVTtZQUNWQyxRQUFRLEtBQUssS0FBSyxLQUFLO1FBQ3pCO1FBRUEsT0FBT1o7SUFDVCxFQUFFLE9BQU9MLE9BQU87UUFDZGtCLFFBQVFsQixLQUFLLENBQUMsZ0JBQWdCQTtRQUU5QixJQUFJQSxpQkFBaUJtQixTQUFTbkIsTUFBTVMsSUFBSSxLQUFLLFlBQVk7WUFDdkQsT0FBTzNCLHFEQUFZQSxDQUFDUSxJQUFJLENBQ3RCO2dCQUFFVSxPQUFPO2dCQUFzQm9CLFNBQVNwQixNQUFNTSxPQUFPO1lBQUMsR0FDdEQ7Z0JBQUVMLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE9BQU9uQixxREFBWUEsQ0FBQ1EsSUFBSSxDQUN0QjtZQUFFVSxPQUFPO1FBQXdCLEdBQ2pDO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV3ZWFyLWNvbW11bml0eS1leGNoYW5nZS8uL3NyYy9hcHAvYXBpL2F1dGgvbG9naW4vcm91dGUudHM/ZDMxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBnZXREYXRhYmFzZSB9IGZyb20gJ0AvbGliL21vbmdvZGInXG5pbXBvcnQgeyB2ZXJpZnlQYXNzd29yZCwgZ2VuZXJhdGVUb2tlbiB9IGZyb20gJ0AvbGliL2F1dGgnXG5pbXBvcnQgeyBsb2dpblNjaGVtYSB9IGZyb20gJ0AvbGliL3ZhbGlkYXRpb25zJ1xuaW1wb3J0IHsgVXNlciB9IGZyb20gJ0AvbW9kZWxzL1VzZXInXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgXG4gICAgLy8gVmFsaWRhdGUgaW5wdXRcbiAgICBjb25zdCB2YWxpZGF0ZWREYXRhID0gbG9naW5TY2hlbWEucGFyc2UoYm9keSlcbiAgICBcbiAgICBjb25zdCBkYiA9IGF3YWl0IGdldERhdGFiYXNlKClcbiAgICBjb25zdCB1c2Vyc0NvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uPFVzZXI+KCd1c2VycycpXG4gICAgXG4gICAgLy8gRmluZCB1c2VyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJzQ29sbGVjdGlvbi5maW5kT25lKHsgXG4gICAgICBlbWFpbDogdmFsaWRhdGVkRGF0YS5lbWFpbCxcbiAgICAgIGlzQWN0aXZlOiB0cnVlIFxuICAgIH0pXG4gICAgXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAxIH1cbiAgICAgIClcbiAgICB9XG4gICAgXG4gICAgLy8gVmVyaWZ5IHBhc3N3b3JkXG4gICAgY29uc3QgaXNWYWxpZFBhc3N3b3JkID0gYXdhaXQgdmVyaWZ5UGFzc3dvcmQodmFsaWRhdGVkRGF0YS5wYXNzd29yZCwgdXNlci5wYXNzd29yZClcbiAgICBcbiAgICBpZiAoIWlzVmFsaWRQYXNzd29yZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICApXG4gICAgfVxuICAgIFxuICAgIC8vIEdlbmVyYXRlIHRva2VuXG4gICAgY29uc3QgdG9rZW4gPSBnZW5lcmF0ZVRva2VuKHVzZXIpXG4gICAgXG4gICAgLy8gU2V0IGNvb2tpZVxuICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IFxuICAgICAgICBtZXNzYWdlOiAnTG9naW4gc3VjY2Vzc2Z1bCcsXG4gICAgICAgIHVzZXI6IHtcbiAgICAgICAgICBpZDogdXNlci5faWQsXG4gICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgIHJvbGU6IHVzZXIucm9sZSxcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiAyMDAgfVxuICAgIClcbiAgICBcbiAgICByZXNwb25zZS5jb29raWVzLnNldCgndG9rZW4nLCB0b2tlbiwge1xuICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicsXG4gICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICBtYXhBZ2U6IDYwICogNjAgKiAyNCAqIDcsIC8vIDcgZGF5c1xuICAgIH0pXG4gICAgXG4gICAgcmV0dXJuIHJlc3BvbnNlXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignTG9naW4gZXJyb3I6JywgZXJyb3IpXG4gICAgXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyb3IubmFtZSA9PT0gJ1pvZEVycm9yJykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnSW52YWxpZCBpbnB1dCBkYXRhJywgZGV0YWlsczogZXJyb3IubWVzc2FnZSB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldERhdGFiYXNlIiwidmVyaWZ5UGFzc3dvcmQiLCJnZW5lcmF0ZVRva2VuIiwibG9naW5TY2hlbWEiLCJQT1NUIiwicmVxdWVzdCIsImJvZHkiLCJqc29uIiwidmFsaWRhdGVkRGF0YSIsInBhcnNlIiwiZGIiLCJ1c2Vyc0NvbGxlY3Rpb24iLCJjb2xsZWN0aW9uIiwidXNlciIsImZpbmRPbmUiLCJlbWFpbCIsImlzQWN0aXZlIiwiZXJyb3IiLCJzdGF0dXMiLCJpc1ZhbGlkUGFzc3dvcmQiLCJwYXNzd29yZCIsInRva2VuIiwicmVzcG9uc2UiLCJtZXNzYWdlIiwiaWQiLCJfaWQiLCJuYW1lIiwicm9sZSIsImNvb2tpZXMiLCJzZXQiLCJodHRwT25seSIsInNlY3VyZSIsInByb2Nlc3MiLCJzYW1lU2l0ZSIsIm1heEFnZSIsImNvbnNvbGUiLCJFcnJvciIsImRldGFpbHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/login/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateToken: () => (/* binding */ generateToken),\n/* harmony export */   getUserFromToken: () => (/* binding */ getUserFromToken),\n/* harmony export */   hashPassword: () => (/* binding */ hashPassword),\n/* harmony export */   verifyPassword: () => (/* binding */ verifyPassword),\n/* harmony export */   verifyToken: () => (/* binding */ verifyToken)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst JWT_SECRET = process.env.JWT_SECRET || \"your-secret-key\";\nasync function hashPassword(password) {\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().hash(password, 12);\n}\nasync function verifyPassword(password, hashedPassword) {\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().compare(password, hashedPassword);\n}\nfunction generateToken(user) {\n    const payload = {\n        id: user._id.toString(),\n        email: user.email,\n        name: user.name,\n        role: user.role\n    };\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().sign(payload, JWT_SECRET, {\n        expiresIn: \"7d\"\n    });\n}\nfunction verifyToken(token) {\n    try {\n        return jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, JWT_SECRET);\n    } catch (error) {\n        return null;\n    }\n}\nfunction getUserFromToken(token) {\n    if (!token) return null;\n    try {\n        // Remove 'Bearer ' prefix if present\n        const cleanToken = token.startsWith(\"Bearer \") ? token.slice(7) : token;\n        return verifyToken(cleanToken);\n    } catch (error) {\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2F1dGgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQTZCO0FBQ0M7QUFHOUIsTUFBTUUsYUFBYUMsUUFBUUMsR0FBRyxDQUFDRixVQUFVLElBQUk7QUFFdEMsZUFBZUcsYUFBYUMsUUFBZ0I7SUFDakQsT0FBT04sb0RBQVcsQ0FBQ00sVUFBVTtBQUMvQjtBQUVPLGVBQWVFLGVBQWVGLFFBQWdCLEVBQUVHLGNBQXNCO0lBQzNFLE9BQU9ULHVEQUFjLENBQUNNLFVBQVVHO0FBQ2xDO0FBRU8sU0FBU0UsY0FBY0MsSUFBVTtJQUN0QyxNQUFNQyxVQUF1QjtRQUMzQkMsSUFBSUYsS0FBS0csR0FBRyxDQUFFQyxRQUFRO1FBQ3RCQyxPQUFPTCxLQUFLSyxLQUFLO1FBQ2pCQyxNQUFNTixLQUFLTSxJQUFJO1FBQ2ZDLE1BQU1QLEtBQUtPLElBQUk7SUFDakI7SUFFQSxPQUFPbEIsd0RBQVEsQ0FBQ1ksU0FBU1gsWUFBWTtRQUFFbUIsV0FBVztJQUFLO0FBQ3pEO0FBRU8sU0FBU0MsWUFBWUMsS0FBYTtJQUN2QyxJQUFJO1FBQ0YsT0FBT3RCLDBEQUFVLENBQUNzQixPQUFPckI7SUFDM0IsRUFBRSxPQUFPdUIsT0FBTztRQUNkLE9BQU87SUFDVDtBQUNGO0FBRU8sU0FBU0MsaUJBQWlCSCxLQUFhO0lBQzVDLElBQUksQ0FBQ0EsT0FBTyxPQUFPO0lBRW5CLElBQUk7UUFDRixxQ0FBcUM7UUFDckMsTUFBTUksYUFBYUosTUFBTUssVUFBVSxDQUFDLGFBQWFMLE1BQU1NLEtBQUssQ0FBQyxLQUFLTjtRQUNsRSxPQUFPRCxZQUFZSztJQUNyQixFQUFFLE9BQU9GLE9BQU87UUFDZCxPQUFPO0lBQ1Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3Jld2Vhci1jb21tdW5pdHktZXhjaGFuZ2UvLi9zcmMvbGliL2F1dGgudHM/NjY5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nXG5pbXBvcnQgeyBVc2VyLCBVc2VyU2Vzc2lvbiB9IGZyb20gJ0AvbW9kZWxzL1VzZXInXG5cbmNvbnN0IEpXVF9TRUNSRVQgPSBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICd5b3VyLXNlY3JldC1rZXknXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYXNoUGFzc3dvcmQocGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gIHJldHVybiBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTIpXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlQYXNzd29yZChwYXNzd29yZDogc3RyaW5nLCBoYXNoZWRQYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHJldHVybiBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgaGFzaGVkUGFzc3dvcmQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVRva2VuKHVzZXI6IFVzZXIpOiBzdHJpbmcge1xuICBjb25zdCBwYXlsb2FkOiBVc2VyU2Vzc2lvbiA9IHtcbiAgICBpZDogdXNlci5faWQhLnRvU3RyaW5nKCksXG4gICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgbmFtZTogdXNlci5uYW1lLFxuICAgIHJvbGU6IHVzZXIucm9sZSxcbiAgfVxuICBcbiAgcmV0dXJuIGp3dC5zaWduKHBheWxvYWQsIEpXVF9TRUNSRVQsIHsgZXhwaXJlc0luOiAnN2QnIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2ZXJpZnlUb2tlbih0b2tlbjogc3RyaW5nKTogVXNlclNlc3Npb24gfCBudWxsIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gand0LnZlcmlmeSh0b2tlbiwgSldUX1NFQ1JFVCkgYXMgVXNlclNlc3Npb25cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2VyRnJvbVRva2VuKHRva2VuOiBzdHJpbmcpOiBVc2VyU2Vzc2lvbiB8IG51bGwge1xuICBpZiAoIXRva2VuKSByZXR1cm4gbnVsbFxuICBcbiAgdHJ5IHtcbiAgICAvLyBSZW1vdmUgJ0JlYXJlciAnIHByZWZpeCBpZiBwcmVzZW50XG4gICAgY29uc3QgY2xlYW5Ub2tlbiA9IHRva2VuLnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSA/IHRva2VuLnNsaWNlKDcpIDogdG9rZW5cbiAgICByZXR1cm4gdmVyaWZ5VG9rZW4oY2xlYW5Ub2tlbilcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG4iXSwibmFtZXMiOlsiYmNyeXB0Iiwiand0IiwiSldUX1NFQ1JFVCIsInByb2Nlc3MiLCJlbnYiLCJoYXNoUGFzc3dvcmQiLCJwYXNzd29yZCIsImhhc2giLCJ2ZXJpZnlQYXNzd29yZCIsImhhc2hlZFBhc3N3b3JkIiwiY29tcGFyZSIsImdlbmVyYXRlVG9rZW4iLCJ1c2VyIiwicGF5bG9hZCIsImlkIiwiX2lkIiwidG9TdHJpbmciLCJlbWFpbCIsIm5hbWUiLCJyb2xlIiwic2lnbiIsImV4cGlyZXNJbiIsInZlcmlmeVRva2VuIiwidG9rZW4iLCJ2ZXJpZnkiLCJlcnJvciIsImdldFVzZXJGcm9tVG9rZW4iLCJjbGVhblRva2VuIiwic3RhcnRzV2l0aCIsInNsaWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/mongodb.ts":
/*!****************************!*\
  !*** ./src/lib/mongodb.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getDatabase: () => (/* binding */ getDatabase)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\nif (!process.env.MONGODB_URI) {\n    throw new Error('Invalid/Missing environment variable: \"MONGODB_URI\"');\n}\nconst uri = process.env.MONGODB_URI;\nconst options = {};\nlet client;\nlet clientPromise;\nif (true) {\n    // In development mode, use a global variable so that the value\n    // is preserved across module reloads caused by HMR (Hot Module Replacement).\n    let globalWithMongo = global;\n    if (!globalWithMongo._mongoClientPromise) {\n        client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(uri, options);\n        globalWithMongo._mongoClientPromise = client.connect();\n    }\n    clientPromise = globalWithMongo._mongoClientPromise;\n} else {}\n// Export a module-scoped MongoClient promise. By doing this in a\n// separate module, the client can be shared across functions.\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (clientPromise);\nasync function getDatabase() {\n    const client = await clientPromise;\n    return client.db(\"rewear\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vbmdvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF5QztBQUV6QyxJQUFJLENBQUNDLFFBQVFDLEdBQUcsQ0FBQ0MsV0FBVyxFQUFFO0lBQzVCLE1BQU0sSUFBSUMsTUFBTTtBQUNsQjtBQUVBLE1BQU1DLE1BQU1KLFFBQVFDLEdBQUcsQ0FBQ0MsV0FBVztBQUNuQyxNQUFNRyxVQUFVLENBQUM7QUFFakIsSUFBSUM7QUFDSixJQUFJQztBQUVKLElBQUlQLElBQXlCLEVBQWU7SUFDMUMsK0RBQStEO0lBQy9ELDZFQUE2RTtJQUM3RSxJQUFJUSxrQkFBa0JDO0lBSXRCLElBQUksQ0FBQ0QsZ0JBQWdCRSxtQkFBbUIsRUFBRTtRQUN4Q0osU0FBUyxJQUFJUCxnREFBV0EsQ0FBQ0ssS0FBS0M7UUFDOUJHLGdCQUFnQkUsbUJBQW1CLEdBQUdKLE9BQU9LLE9BQU87SUFDdEQ7SUFDQUosZ0JBQWdCQyxnQkFBZ0JFLG1CQUFtQjtBQUNyRCxPQUFPLEVBSU47QUFFRCxpRUFBaUU7QUFDakUsOERBQThEO0FBQzlELGlFQUFlSCxhQUFhQSxFQUFBO0FBRXJCLGVBQWVLO0lBQ3BCLE1BQU1OLFNBQVMsTUFBTUM7SUFDckIsT0FBT0QsT0FBT08sRUFBRSxDQUFDO0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmV3ZWFyLWNvbW11bml0eS1leGNoYW5nZS8uL3NyYy9saWIvbW9uZ29kYi50cz81M2MyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vbmdvQ2xpZW50LCBEYiB9IGZyb20gJ21vbmdvZGInXG5cbmlmICghcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkL01pc3NpbmcgZW52aXJvbm1lbnQgdmFyaWFibGU6IFwiTU9OR09EQl9VUklcIicpXG59XG5cbmNvbnN0IHVyaSA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJXG5jb25zdCBvcHRpb25zID0ge31cblxubGV0IGNsaWVudDogTW9uZ29DbGllbnRcbmxldCBjbGllbnRQcm9taXNlOiBQcm9taXNlPE1vbmdvQ2xpZW50PlxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgLy8gSW4gZGV2ZWxvcG1lbnQgbW9kZSwgdXNlIGEgZ2xvYmFsIHZhcmlhYmxlIHNvIHRoYXQgdGhlIHZhbHVlXG4gIC8vIGlzIHByZXNlcnZlZCBhY3Jvc3MgbW9kdWxlIHJlbG9hZHMgY2F1c2VkIGJ5IEhNUiAoSG90IE1vZHVsZSBSZXBsYWNlbWVudCkuXG4gIGxldCBnbG9iYWxXaXRoTW9uZ28gPSBnbG9iYWwgYXMgdHlwZW9mIGdsb2JhbFRoaXMgJiB7XG4gICAgX21vbmdvQ2xpZW50UHJvbWlzZT86IFByb21pc2U8TW9uZ29DbGllbnQ+XG4gIH1cblxuICBpZiAoIWdsb2JhbFdpdGhNb25nby5fbW9uZ29DbGllbnRQcm9taXNlKSB7XG4gICAgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVyaSwgb3B0aW9ucylcbiAgICBnbG9iYWxXaXRoTW9uZ28uX21vbmdvQ2xpZW50UHJvbWlzZSA9IGNsaWVudC5jb25uZWN0KClcbiAgfVxuICBjbGllbnRQcm9taXNlID0gZ2xvYmFsV2l0aE1vbmdvLl9tb25nb0NsaWVudFByb21pc2Vcbn0gZWxzZSB7XG4gIC8vIEluIHByb2R1Y3Rpb24gbW9kZSwgaXQncyBiZXN0IHRvIG5vdCB1c2UgYSBnbG9iYWwgdmFyaWFibGUuXG4gIGNsaWVudCA9IG5ldyBNb25nb0NsaWVudCh1cmksIG9wdGlvbnMpXG4gIGNsaWVudFByb21pc2UgPSBjbGllbnQuY29ubmVjdCgpXG59XG5cbi8vIEV4cG9ydCBhIG1vZHVsZS1zY29wZWQgTW9uZ29DbGllbnQgcHJvbWlzZS4gQnkgZG9pbmcgdGhpcyBpbiBhXG4vLyBzZXBhcmF0ZSBtb2R1bGUsIHRoZSBjbGllbnQgY2FuIGJlIHNoYXJlZCBhY3Jvc3MgZnVuY3Rpb25zLlxuZXhwb3J0IGRlZmF1bHQgY2xpZW50UHJvbWlzZVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RGF0YWJhc2UoKTogUHJvbWlzZTxEYj4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjbGllbnRQcm9taXNlXG4gIHJldHVybiBjbGllbnQuZGIoJ3Jld2VhcicpXG59XG4iXSwibmFtZXMiOlsiTW9uZ29DbGllbnQiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkkiLCJFcnJvciIsInVyaSIsIm9wdGlvbnMiLCJjbGllbnQiLCJjbGllbnRQcm9taXNlIiwiZ2xvYmFsV2l0aE1vbmdvIiwiZ2xvYmFsIiwiX21vbmdvQ2xpZW50UHJvbWlzZSIsImNvbm5lY3QiLCJnZXREYXRhYmFzZSIsImRiIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/mongodb.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/validations.ts":
/*!********************************!*\
  !*** ./src/lib/validations.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adminActionSchema: () => (/* binding */ adminActionSchema),\n/* harmony export */   createItemSchema: () => (/* binding */ createItemSchema),\n/* harmony export */   loginSchema: () => (/* binding */ loginSchema),\n/* harmony export */   registerSchema: () => (/* binding */ registerSchema),\n/* harmony export */   updateItemSchema: () => (/* binding */ updateItemSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n\n// User validation schemas\nconst registerSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, \"Name must be at least 2 characters\").max(50, \"Name must be less than 50 characters\"),\n    email: zod__WEBPACK_IMPORTED_MODULE_0__.string().email(\"Invalid email address\"),\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(6, \"Password must be at least 6 characters\").max(100, \"Password must be less than 100 characters\"),\n    phone: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    address: zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        street: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, \"Street is required\"),\n        city: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, \"City is required\"),\n        state: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, \"State is required\"),\n        zipCode: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, \"Zip code is required\"),\n        country: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, \"Country is required\")\n    }).optional()\n});\nconst loginSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    email: zod__WEBPACK_IMPORTED_MODULE_0__.string().email(\"Invalid email address\"),\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, \"Password is required\")\n});\n// Item validation schemas\nconst createItemSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    title: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(3, \"Title must be at least 3 characters\").max(100, \"Title must be less than 100 characters\"),\n    description: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(10, \"Description must be at least 10 characters\").max(1000, \"Description must be less than 1000 characters\"),\n    category: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"tops\",\n        \"bottoms\",\n        \"dresses\",\n        \"outerwear\",\n        \"shoes\",\n        \"accessories\",\n        \"other\"\n    ]),\n    condition: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"new\",\n        \"like-new\",\n        \"good\",\n        \"fair\",\n        \"poor\"\n    ]),\n    size: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, \"Size is required\"),\n    brand: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    originalPrice: zod__WEBPACK_IMPORTED_MODULE_0__.number().positive().optional(),\n    sellingPrice: zod__WEBPACK_IMPORTED_MODULE_0__.number().positive(\"Selling price must be positive\"),\n    images: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).min(1, \"At least one image is required\").max(5, \"Maximum 5 images allowed\"),\n    tags: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).optional()\n});\nconst updateItemSchema = createItemSchema.partial();\nconst adminActionSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    itemId: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, \"Item ID is required\"),\n    action: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"approve\",\n        \"reject\"\n    ]),\n    rejectionReason: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ZhbGlkYXRpb25zLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF1QjtBQUV2QiwwQkFBMEI7QUFDbkIsTUFBTUMsaUJBQWlCRCx1Q0FBUSxDQUFDO0lBQ3JDRyxNQUFNSCx1Q0FBUSxHQUFHSyxHQUFHLENBQUMsR0FBRyxzQ0FBc0NDLEdBQUcsQ0FBQyxJQUFJO0lBQ3RFQyxPQUFPUCx1Q0FBUSxHQUFHTyxLQUFLLENBQUM7SUFDeEJDLFVBQVVSLHVDQUFRLEdBQUdLLEdBQUcsQ0FBQyxHQUFHLDBDQUEwQ0MsR0FBRyxDQUFDLEtBQUs7SUFDL0VHLE9BQU9ULHVDQUFRLEdBQUdVLFFBQVE7SUFDMUJDLFNBQVNYLHVDQUFRLENBQUM7UUFDaEJZLFFBQVFaLHVDQUFRLEdBQUdLLEdBQUcsQ0FBQyxHQUFHO1FBQzFCUSxNQUFNYix1Q0FBUSxHQUFHSyxHQUFHLENBQUMsR0FBRztRQUN4QlMsT0FBT2QsdUNBQVEsR0FBR0ssR0FBRyxDQUFDLEdBQUc7UUFDekJVLFNBQVNmLHVDQUFRLEdBQUdLLEdBQUcsQ0FBQyxHQUFHO1FBQzNCVyxTQUFTaEIsdUNBQVEsR0FBR0ssR0FBRyxDQUFDLEdBQUc7SUFDN0IsR0FBR0ssUUFBUTtBQUNiLEdBQUU7QUFFSyxNQUFNTyxjQUFjakIsdUNBQVEsQ0FBQztJQUNsQ08sT0FBT1AsdUNBQVEsR0FBR08sS0FBSyxDQUFDO0lBQ3hCQyxVQUFVUix1Q0FBUSxHQUFHSyxHQUFHLENBQUMsR0FBRztBQUM5QixHQUFFO0FBRUYsMEJBQTBCO0FBQ25CLE1BQU1hLG1CQUFtQmxCLHVDQUFRLENBQUM7SUFDdkNtQixPQUFPbkIsdUNBQVEsR0FBR0ssR0FBRyxDQUFDLEdBQUcsdUNBQXVDQyxHQUFHLENBQUMsS0FBSztJQUN6RWMsYUFBYXBCLHVDQUFRLEdBQUdLLEdBQUcsQ0FBQyxJQUFJLDhDQUE4Q0MsR0FBRyxDQUFDLE1BQU07SUFDeEZlLFVBQVVyQix3Q0FBTSxDQUFDO1FBQUM7UUFBUTtRQUFXO1FBQVc7UUFBYTtRQUFTO1FBQWU7S0FBUTtJQUM3RnVCLFdBQVd2Qix3Q0FBTSxDQUFDO1FBQUM7UUFBTztRQUFZO1FBQVE7UUFBUTtLQUFPO0lBQzdEd0IsTUFBTXhCLHVDQUFRLEdBQUdLLEdBQUcsQ0FBQyxHQUFHO0lBQ3hCb0IsT0FBT3pCLHVDQUFRLEdBQUdVLFFBQVE7SUFDMUJnQixlQUFlMUIsdUNBQVEsR0FBRzRCLFFBQVEsR0FBR2xCLFFBQVE7SUFDN0NtQixjQUFjN0IsdUNBQVEsR0FBRzRCLFFBQVEsQ0FBQztJQUNsQ0UsUUFBUTlCLHNDQUFPLENBQUNBLHVDQUFRLElBQUlLLEdBQUcsQ0FBQyxHQUFHLGtDQUFrQ0MsR0FBRyxDQUFDLEdBQUc7SUFDNUUwQixNQUFNaEMsc0NBQU8sQ0FBQ0EsdUNBQVEsSUFBSVUsUUFBUTtBQUNwQyxHQUFFO0FBRUssTUFBTXVCLG1CQUFtQmYsaUJBQWlCZ0IsT0FBTyxHQUFFO0FBRW5ELE1BQU1DLG9CQUFvQm5DLHVDQUFRLENBQUM7SUFDeENvQyxRQUFRcEMsdUNBQVEsR0FBR0ssR0FBRyxDQUFDLEdBQUc7SUFDMUJnQyxRQUFRckMsd0NBQU0sQ0FBQztRQUFDO1FBQVc7S0FBUztJQUNwQ3NDLGlCQUFpQnRDLHVDQUFRLEdBQUdVLFFBQVE7QUFDdEMsR0FBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jld2Vhci1jb21tdW5pdHktZXhjaGFuZ2UvLi9zcmMvbGliL3ZhbGlkYXRpb25zLnRzPzQzMmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcblxuLy8gVXNlciB2YWxpZGF0aW9uIHNjaGVtYXNcbmV4cG9ydCBjb25zdCByZWdpc3RlclNjaGVtYSA9IHoub2JqZWN0KHtcbiAgbmFtZTogei5zdHJpbmcoKS5taW4oMiwgJ05hbWUgbXVzdCBiZSBhdCBsZWFzdCAyIGNoYXJhY3RlcnMnKS5tYXgoNTAsICdOYW1lIG11c3QgYmUgbGVzcyB0aGFuIDUwIGNoYXJhY3RlcnMnKSxcbiAgZW1haWw6IHouc3RyaW5nKCkuZW1haWwoJ0ludmFsaWQgZW1haWwgYWRkcmVzcycpLFxuICBwYXNzd29yZDogei5zdHJpbmcoKS5taW4oNiwgJ1Bhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgNiBjaGFyYWN0ZXJzJykubWF4KDEwMCwgJ1Bhc3N3b3JkIG11c3QgYmUgbGVzcyB0aGFuIDEwMCBjaGFyYWN0ZXJzJyksXG4gIHBob25lOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGFkZHJlc3M6IHoub2JqZWN0KHtcbiAgICBzdHJlZXQ6IHouc3RyaW5nKCkubWluKDEsICdTdHJlZXQgaXMgcmVxdWlyZWQnKSxcbiAgICBjaXR5OiB6LnN0cmluZygpLm1pbigxLCAnQ2l0eSBpcyByZXF1aXJlZCcpLFxuICAgIHN0YXRlOiB6LnN0cmluZygpLm1pbigxLCAnU3RhdGUgaXMgcmVxdWlyZWQnKSxcbiAgICB6aXBDb2RlOiB6LnN0cmluZygpLm1pbigxLCAnWmlwIGNvZGUgaXMgcmVxdWlyZWQnKSxcbiAgICBjb3VudHJ5OiB6LnN0cmluZygpLm1pbigxLCAnQ291bnRyeSBpcyByZXF1aXJlZCcpLFxuICB9KS5vcHRpb25hbCgpLFxufSlcblxuZXhwb3J0IGNvbnN0IGxvZ2luU2NoZW1hID0gei5vYmplY3Qoe1xuICBlbWFpbDogei5zdHJpbmcoKS5lbWFpbCgnSW52YWxpZCBlbWFpbCBhZGRyZXNzJyksXG4gIHBhc3N3b3JkOiB6LnN0cmluZygpLm1pbigxLCAnUGFzc3dvcmQgaXMgcmVxdWlyZWQnKSxcbn0pXG5cbi8vIEl0ZW0gdmFsaWRhdGlvbiBzY2hlbWFzXG5leHBvcnQgY29uc3QgY3JlYXRlSXRlbVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdGl0bGU6IHouc3RyaW5nKCkubWluKDMsICdUaXRsZSBtdXN0IGJlIGF0IGxlYXN0IDMgY2hhcmFjdGVycycpLm1heCgxMDAsICdUaXRsZSBtdXN0IGJlIGxlc3MgdGhhbiAxMDAgY2hhcmFjdGVycycpLFxuICBkZXNjcmlwdGlvbjogei5zdHJpbmcoKS5taW4oMTAsICdEZXNjcmlwdGlvbiBtdXN0IGJlIGF0IGxlYXN0IDEwIGNoYXJhY3RlcnMnKS5tYXgoMTAwMCwgJ0Rlc2NyaXB0aW9uIG11c3QgYmUgbGVzcyB0aGFuIDEwMDAgY2hhcmFjdGVycycpLFxuICBjYXRlZ29yeTogei5lbnVtKFsndG9wcycsICdib3R0b21zJywgJ2RyZXNzZXMnLCAnb3V0ZXJ3ZWFyJywgJ3Nob2VzJywgJ2FjY2Vzc29yaWVzJywgJ290aGVyJ10pLFxuICBjb25kaXRpb246IHouZW51bShbJ25ldycsICdsaWtlLW5ldycsICdnb29kJywgJ2ZhaXInLCAncG9vciddKSxcbiAgc2l6ZTogei5zdHJpbmcoKS5taW4oMSwgJ1NpemUgaXMgcmVxdWlyZWQnKSxcbiAgYnJhbmQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgb3JpZ2luYWxQcmljZTogei5udW1iZXIoKS5wb3NpdGl2ZSgpLm9wdGlvbmFsKCksXG4gIHNlbGxpbmdQcmljZTogei5udW1iZXIoKS5wb3NpdGl2ZSgnU2VsbGluZyBwcmljZSBtdXN0IGJlIHBvc2l0aXZlJyksXG4gIGltYWdlczogei5hcnJheSh6LnN0cmluZygpKS5taW4oMSwgJ0F0IGxlYXN0IG9uZSBpbWFnZSBpcyByZXF1aXJlZCcpLm1heCg1LCAnTWF4aW11bSA1IGltYWdlcyBhbGxvd2VkJyksXG4gIHRhZ3M6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbn0pXG5cbmV4cG9ydCBjb25zdCB1cGRhdGVJdGVtU2NoZW1hID0gY3JlYXRlSXRlbVNjaGVtYS5wYXJ0aWFsKClcblxuZXhwb3J0IGNvbnN0IGFkbWluQWN0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuICBpdGVtSWQ6IHouc3RyaW5nKCkubWluKDEsICdJdGVtIElEIGlzIHJlcXVpcmVkJyksXG4gIGFjdGlvbjogei5lbnVtKFsnYXBwcm92ZScsICdyZWplY3QnXSksXG4gIHJlamVjdGlvblJlYXNvbjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSlcblxuZXhwb3J0IHR5cGUgUmVnaXN0ZXJJbnB1dCA9IHouaW5mZXI8dHlwZW9mIHJlZ2lzdGVyU2NoZW1hPlxuZXhwb3J0IHR5cGUgTG9naW5JbnB1dCA9IHouaW5mZXI8dHlwZW9mIGxvZ2luU2NoZW1hPlxuZXhwb3J0IHR5cGUgQ3JlYXRlSXRlbUlucHV0ID0gei5pbmZlcjx0eXBlb2YgY3JlYXRlSXRlbVNjaGVtYT5cbmV4cG9ydCB0eXBlIFVwZGF0ZUl0ZW1JbnB1dCA9IHouaW5mZXI8dHlwZW9mIHVwZGF0ZUl0ZW1TY2hlbWE+XG5leHBvcnQgdHlwZSBBZG1pbkFjdGlvbklucHV0ID0gei5pbmZlcjx0eXBlb2YgYWRtaW5BY3Rpb25TY2hlbWE+XG4iXSwibmFtZXMiOlsieiIsInJlZ2lzdGVyU2NoZW1hIiwib2JqZWN0IiwibmFtZSIsInN0cmluZyIsIm1pbiIsIm1heCIsImVtYWlsIiwicGFzc3dvcmQiLCJwaG9uZSIsIm9wdGlvbmFsIiwiYWRkcmVzcyIsInN0cmVldCIsImNpdHkiLCJzdGF0ZSIsInppcENvZGUiLCJjb3VudHJ5IiwibG9naW5TY2hlbWEiLCJjcmVhdGVJdGVtU2NoZW1hIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImNhdGVnb3J5IiwiZW51bSIsImNvbmRpdGlvbiIsInNpemUiLCJicmFuZCIsIm9yaWdpbmFsUHJpY2UiLCJudW1iZXIiLCJwb3NpdGl2ZSIsInNlbGxpbmdQcmljZSIsImltYWdlcyIsImFycmF5IiwidGFncyIsInVwZGF0ZUl0ZW1TY2hlbWEiLCJwYXJ0aWFsIiwiYWRtaW5BY3Rpb25TY2hlbWEiLCJpdGVtSWQiLCJhY3Rpb24iLCJyZWplY3Rpb25SZWFzb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/validations.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/zod","vendor-chunks/semver","vendor-chunks/bcryptjs","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/jws","vendor-chunks/lodash.once","vendor-chunks/jwa","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=D%3A%5CTeam-1757-PS3-ReWear%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CTeam-1757-PS3-ReWear&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();